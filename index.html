<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <div id="app" class="app"></div>

<script>
  const app = document.getElementById('app')
  const url = 'https://patricio-dsgn.github.io/backpack/source/'
  let info = ''
  fetch('files.json')
    .then(response => response.json())
    .then(data=>{
      
      console.log(data.coder)
      console.log(data.date)
      // console.log(data.source)
      // info += `<nav><ul>`
      //   for(key in data.files) {
      //     info += `<li><a href="${key}">${key}</a></li>`
      //   }
      // info += `</ul></nav>`

      for(key in data.source) {
        // console.log(data.source[key].file)
        
        info += `
<div class="block">
    <h2>${key}</h2>
    <div class="sub-block">`
      data.source[key].file.forEach(el => {
        info += element(url, key, el)
      });

info += `</div>
    </div>
</div>`

// info += `<p>${data.source[key].type}</p>`
        //   info += `</div>`
        // info += `</div>`
      }

      app.innerHTML = info
    })



    function element(url, key, el) {
      let out = ``
      let ext = key.split('-')[0]
      if(['jpg', 'png', 'gif', 'svg', 'webp','favicon'].includes(ext)){
        if(el===''){
          out = `<div class="element"><br></div>`
        }else{
        out = `
        <div class="element">
          <a href="./source/${key}/${el}">
            <img src="./source/${key}/${el}">  
          </a>
          <span>${url}${key}/${el}</span>
        </div>`
        }
      }else{
        out = `
        <div class="element">
          <a href="./source/${key}/${el}">
            ./source/${key}/${el}
          </a>
        </div>
          `

      }
      // }else if(type==='video'){
      //   out = `
      //   <video width="320" height="240" controls>
      //     <source src="${el}" type="video/${el.split('.')[1]}">
      //   </video>
      //   `
      // }else if(type==='audio'){
      //   out = ``

      // }
      return out

    }
</script>



<style>

*{
    margin: 0;
    padding: 0;
    border: 0;
    box-sizing: border-box;
  }

  body{
    font-family: 'Courier New', Courier, monospace;
  }

  ul{
    list-style: none;
  }

  a{
    text-decoration: none;
  }

  nav {
    position: absolute;
    top: 0;
    left: 0;
  }

  nav ul {
    display: flex;
    flex-direction: row;
    gap: 10px;
    border: 5px solid #000;
  }

  nav li{
    padding: 5px 20px;
    border: 1px solid #000;
    border-radius: 5px;
  }

  .app{
  }

  .block{
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1px solid #000;
    margin: 0 30px;
  }

  .sub-block{
    border: 1px solid #000;
    margin: 0 30px;
  }

  .element{
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    border: 1px solid #000;
    height: 30px;
    align-items: center;
    justify-content: flex-start;
  }

  .element span{
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1px solid #000;
  }

  .element a{
    display: flex;
    align-items: center;
  }

  .element img{
    border: 1px solid #000;
    margin-right: 10px;
  }

  img{
    width: 30px;
  }

</style>
</body>
</html>